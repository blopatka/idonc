<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>
	<!--
		beans can't come before imports so have to have these in an import
	-->
	<!--
    <import resource="classpath:common.xml" />
	<import resource="classpath:persistence.hibernate.xml" />
    -->

	<!--
    <bean name="openSessionInViewInterceptor"
		class="org.springframework.orm.hibernate3.support.OpenSessionInViewInterceptor">
		<property name="sessionFactory" ref="sessionFactory"></property>
	</bean>
    -->

	<!--  setup idoncservice -->
	<!--
    <bean id="idoncService" class="org.lopatka.idonc.web.service.IdoncServiceImpl">
		<property name="userDao" ref="userDao" />
		<property name="userCredentialDao" ref="userCredentialDao" />
		<property name="loggedUserDao" ref="loggedUserDao" />
		<property name="projectDao" ref="projectDao"></property>
	</bean>
    -->

	<!-- http invoker client -->
	<bean id="httpInvokerRequestExecutor" class="org.springframework.remoting.httpinvoker.CommonsHttpInvokerRequestExecutor"/>

	<bean id="converterService" class="org.springframework.remoting.httpinvoker.HttpInvokerProxyFactoryBean">
		<property name="serviceUrl" value="http://localhost:8282/idonc-service/remote/ConverterService"/>
		<property name="serviceInterface" value="org.lopatka.idonc.service.ConverterService"/>
		<property name="httpInvokerRequestExecutor">
			<ref bean="httpInvokerRequestExecutor"/>
		</property>
	</bean>

    <bean id="idoncService" class="org.springframework.remoting.httpinvoker.HttpInvokerProxyFactoryBean">
		<property name="serviceUrl" value="http://localhost:8282/idonc-service/remote/IdoncService"/>
		<property name="serviceInterface" value="org.lopatka.idonc.service.IdoncService"/>
		<property name="httpInvokerRequestExecutor">
			<ref bean="httpInvokerRequestExecutor"/>
		</property>
	</bean>

	<!--
		setup data generator that will add some data into the db when the app
		starts up
	-->
    <!--
	<bean id="dataGenerator" class="org.lopatka.idonc.web.utils.DataGenerator">
		<property name="idoncService" ref="idoncService"></property>
	</bean>
    -->

	<!-- setup wicket application -->
	<bean id="wicketApplication" class="org.lopatka.idonc.web.IdoncApplication">
	</bean>

</beans>
